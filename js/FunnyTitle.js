var OriginTitle = document.title; var titleTime; document.addEventListener('visibilitychange', function () { if (document.hidden) { $('[rel="icon"]').attr('href', "../favicon.png"); document.title = '看不到我'; clearTimeout(titleTime); } else { $('[rel="icon"]').attr('href', "../favicon.png"); document.title = '哈哈, 被发现啦!' + OriginTitle; titleTime = setTimeout(function () { document.title = OriginTitle; }, 2000); } });