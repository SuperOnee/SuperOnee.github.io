<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>MacOS搭建Docker环境 | Nathan's Blog</title><meta name="keywords" content="Docker,Mac"><meta name="author" content="Nathan"><meta name="copyright" content="Nathan"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Docker 安装Docker 是一个开源的应用容器引擎, 让开发者可以打包他们的应用以及依赖包到一个可移植的镜像中, 然后发布到任何流行的 Linux 或 Windows 机器上, 也可以实现虚拟化. 容器是完全使用沙箱机制, 相互之间不会有任何接口. 安装步骤非常简单.  首先进入docker 官网找到适合自己的版本后点击下载.    下载完后进行 docker 的安装, 安装完后就可以启动">
<meta property="og:type" content="article">
<meta property="og:title" content="MacOS搭建Docker环境">
<meta property="og:url" content="https://nathan98.gitee.io/post/d84ab946.html">
<meta property="og:site_name" content="Nathan&#39;s Blog">
<meta property="og:description" content="Docker 安装Docker 是一个开源的应用容器引擎, 让开发者可以打包他们的应用以及依赖包到一个可移植的镜像中, 然后发布到任何流行的 Linux 或 Windows 机器上, 也可以实现虚拟化. 容器是完全使用沙箱机制, 相互之间不会有任何接口. 安装步骤非常简单.  首先进入docker 官网找到适合自己的版本后点击下载.    下载完后进行 docker 的安装, 安装完后就可以启动">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://c242p8.coding-pages.com/images/docker/thumbnail.png">
<meta property="article:published_time" content="2021-01-31T09:06:11.000Z">
<meta property="article:modified_time" content="2021-04-28T15:46:57.058Z">
<meta property="article:author" content="Nathan">
<meta property="article:tag" content="Docker">
<meta property="article:tag" content="Mac">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://c242p8.coding-pages.com/images/docker/thumbnail.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://nathan98.gitee.io/post/d84ab946"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-04-28 23:46:57'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    })(window)</script><meta name="generator" content="Hexo 5.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/loading.gif" data-original="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">39</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">30</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://c242p8.coding-pages.com/images/docker/thumbnail.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Nathan's Blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">MacOS搭建Docker环境</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-01-31T09:06:11.000Z" title="发表于 2021-01-31 17:06:11">2021-01-31</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-04-28T15:46:57.058Z" title="更新于 2021-04-28 23:46:57">2021-04-28</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Docker/">Docker</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">3.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>13分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="MacOS搭建Docker环境"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h3 id="Docker-安装"><a href="#Docker-安装" class="headerlink" title="Docker 安装"></a>Docker 安装</h3><p>Docker 是一个开源的应用容器引擎, 让开发者可以打包他们的应用以及依赖包到一个可移植的镜像中, 然后发布到任何流行的 Linux 或 Windows 机器上, 也可以实现虚拟化. 容器是完全使用沙箱机制, 相互之间不会有任何接口.</p>
<p>安装步骤非常简单.</p>
<ol>
<li>首先进入<a target="_blank" rel="noopener" href="https://www.docker.com/">docker 官网</a>找到适合自己的版本后点击下载.</li>
</ol>
<p><img src="/loading.gif" data-original="https://c242p8.coding-pages.com/images/docker/pics/pic1.png"></p>
<ol start="2">
<li><p>下载完后进行 docker 的安装, 安装完后就可以启动 docker 了.</p>
</li>
<li><p>安装完 Docker 后打开终端输入 docker. 看到终端返回内容如下表示安装成功.</p>
</li>
</ol>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Usage:  docker <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> COMMAND

A self-sufficient runtime <span class="token keyword">for</span> containers

Options:
      --config string      Location of client config files <span class="token punctuation">(</span>default <span class="token string">"/Users/spongebob/.docker"</span><span class="token punctuation">)</span>
  -c, --context string     Name of the context to use to connect to the daemon <span class="token punctuation">(</span>overrides DOCKER_HOST
                           <span class="token function">env</span> var and default context <span class="token builtin class-name">set</span> with <span class="token string">"docker context use"</span><span class="token punctuation">)</span>
  -D, --debug              Enable debug mode
  -H, --host list          Daemon socket<span class="token punctuation">(</span>s<span class="token punctuation">)</span> to connect to
  -l, --log-level string   Set the logging level <span class="token punctuation">(</span><span class="token string">"debug"</span><span class="token operator">|</span><span class="token string">"info"</span><span class="token operator">|</span><span class="token string">"warn"</span><span class="token operator">|</span><span class="token string">"error"</span><span class="token operator">|</span><span class="token string">"fatal"</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>default <span class="token string">"info"</span><span class="token punctuation">)</span>
      --tls                Use TLS<span class="token punctuation">;</span> implied by --tlsverify
      --tlscacert string   Trust certs signed only by this CA <span class="token punctuation">(</span>default <span class="token string">"/Users/spongebob/.docker/ca.pem"</span><span class="token punctuation">)</span>
      --tlscert string     Path to TLS certificate <span class="token function">file</span> <span class="token punctuation">(</span>default <span class="token string">"/Users/spongebob/.docker/cert.pem"</span><span class="token punctuation">)</span>
      --tlskey string      Path to TLS key <span class="token function">file</span> <span class="token punctuation">(</span>default <span class="token string">"/Users/spongebob/.docker/key.pem"</span><span class="token punctuation">)</span>
      --tlsverify          Use TLS and verify the remote
  -v, --version            Print version information and quit

Management Commands:
  app*        Docker App <span class="token punctuation">(</span>Docker Inc., unknown<span class="token punctuation">)</span>
  builder     Manage builds
  buildx*     Build with BuildKit <span class="token punctuation">(</span>Docker Inc., v0.5.1-docker<span class="token punctuation">)</span>
  checkpoint  Manage checkpoints
  config      Manage Docker configs
  container   Manage containers
  context     Manage contexts
  image       Manage images
  manifest    Manage Docker image manifests and manifest lists
  network     Manage networks
  node        Manage Swarm nodes
  plugin      Manage plugins
  scan*       Docker Scan <span class="token punctuation">(</span>Docker Inc., v0.3.5<span class="token punctuation">)</span>
  secret      Manage Docker secrets
  <span class="token function">service</span>     Manage services
  stack       Manage Docker stacks
  swarm       Manage Swarm
  system      Manage Docker
  trust       Manage trust on Docker images
  volume      Manage volumes

Commands:
  attach      Attach <span class="token builtin class-name">local</span> standard input, output, and error streams to a running container
  build       Build an image from a Dockerfile
  commit      Create a new image from a container<span class="token string">'s changes
  cp          Copy files/folders between a container and the local filesystem
  create      Create a new container
  diff        Inspect changes to files or directories on a container'</span>s filesystem
  events      Get real <span class="token function">time</span> events from the server
  <span class="token builtin class-name">exec</span>        Run a <span class="token builtin class-name">command</span> <span class="token keyword">in</span> a running container
  <span class="token builtin class-name">export</span>      Export a container<span class="token string">'s filesystem as a tar archive
  history     Show the history of an image
  images      List images
  import      Import the contents from a tarball to create a filesystem image
  info        Display system-wide information
  inspect     Return low-level information on Docker objects
  kill        Kill one or more running containers
  load        Load an image from a tar archive or STDIN
  login       Log in to a Docker registry
  logout      Log out from a Docker registry
  logs        Fetch the logs of a container
  pause       Pause all processes within one or more containers
  port        List port mappings or a specific mapping for the container
  ps          List containers
  pull        Pull an image or a repository from a registry
  push        Push an image or a repository to a registry
  rename      Rename a container
  restart     Restart one or more containers
  rm          Remove one or more containers
  rmi         Remove one or more images
  run         Run a command in a new container
  save        Save one or more images to a tar archive (streamed to STDOUT by default)
  search      Search the Docker Hub for images
  start       Start one or more stopped containers
  stats       Display a live stream of container(s) resource usage statistics
  stop        Stop one or more running containers
  tag         Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE
  top         Display the running processes of a container
  unpause     Unpause all processes within one or more containers
  update      Update configuration of one or more containers
  version     Show the Docker version information
  wait        Block until one or more containers stop, then print their exit codes

Run '</span>docker COMMAND --help' <span class="token keyword">for</span> <span class="token function">more</span> information on a command.

To get <span class="token function">more</span> <span class="token builtin class-name">help</span> with docker, check out our guides at https://docs.docker.com/go/guides/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Docker-Image-和-Docker-Container"><a href="#Docker-Image-和-Docker-Container" class="headerlink" title="Docker Image 和 Docker Container"></a>Docker Image 和 Docker Container</h3><p>Docker Image 就是 Docker 镜像, 镜像可以是是数据库, web 容器, web 应用等等. Docker Container 就是 Docker 容器, Docker 容器是什么呢? 实际上就是正在运行 Docker 镜像实例.<br>接下来就看看如何下载一个 Docker 镜像. 并将其运行起来.</p>
<ol>
<li><p>打开<a target="_blank" rel="noopener" href="https://hub.docker.com/_/nginx">Docker hub</a>往下滑动找到对应的 Docker Nginx 镜像</p>
</li>
<li><p>在页面的右侧能看到对应的终端指令, 将其复制粘贴到终端.</p>
</li>
</ol>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker pull nginx

<span class="token comment"># 敲完回车后终端会打印如下内容:</span>
Using default tag: latest <span class="token comment"># 如果没有指定tag的话默认就是latest, 这里的Tag就是版本.</span>
latest: Pulling from library/nginx
f8be76fcf206: Pull complete
56d3a31c1999: Pull complete
61e3132252c9: Pull complete
703916d761e9: Pull complete
53e819da52d9: Pull complete
Digest: sha256:10b8cc432d56da8b61b070f4c7d2543a9ed17c2b23010b43af434fd40e2ca4aa
Status: Downloaded newer image <span class="token keyword">for</span> nginx:latest
docker.io/library/nginx:latest<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="3">
<li>安装完 nginx 后, 使用 docker images 命令查看镜像是否已经安装.</li>
</ol>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker images
<span class="token comment"># 终端打印内容如下:</span>
<span class="token comment"># 镜像源      #版本      #镜像id        #创建时间      #大小</span>
REPOSITORY   TAG       IMAGE ID       CREATED       SIZE
<span class="token comment"># 可以看到nginx已经被安装了.</span>
nginx        latest    9b016c5aa4e8   <span class="token number">2</span> weeks ago   126MB<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="4">
<li>将 nginx 在 docker 中运行起来.</li>
</ol>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># :冒号后面的latest为Tag也就是版本.</span>
docker run nginx:latest<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><code>输入完命令后, 可以发现终端被阻塞住了, 不能敲命令了, 并且打开docker dashboard后可以看到nginx的状态是running的也就是处于运行状态.</code></p>
<p><img src="/loading.gif" data-original="https://c242p8.coding-pages.com/images/docker/pics/pic2.png"></p>
<p>原因是: <code>因为没有指定nginx在后台运行.</code></p>
<ol start="5">
<li>使用命令查看正在运行的镜像实例.</li>
</ol>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$~ docker container <span class="token function">ls</span>
<span class="token comment"># 可以看到nginx正是处于运行的状态</span>
CONTAINER ID   IMAGE          COMMAND                  CREATED         STATUS         PORTS     NAMES
3a19643c7f12   nginx:latest   <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">5</span> minutes ago   Up <span class="token number">5</span> minutes   <span class="token number">80</span>/tcp    nice_vaughan<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="6">
<li>使 nginx 在后台运行</li>
</ol>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker run -d nginx:latest <span class="token comment"># -d表示 detach mode也就是在后台运行</span>

bf05c0c930ab116fb66a7b4c07efcc161218729b736f9629b663061f0cb1ad71<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><code>docker container ls</code> 命令可以使用 <code>docker ps</code>代替.</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker <span class="token function">ps</span> <span class="token comment">#效果是和docker container ls一样的.</span>
CONTAINER ID   IMAGE          COMMAND                  CREATED          STATUS          PORTS     NAMES
bf05c0c930ab   nginx:latest   <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">47</span> seconds ago   Up <span class="token number">26</span> seconds   <span class="token number">80</span>/tcp    fervent_yalow<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="将端口暴露"><a href="#将端口暴露" class="headerlink" title="将端口暴露"></a>将端口暴露</h3><p>上面虽然将 nginx 运行起来了, 但是 docker 是隔离运行的, 端口没有暴露出来是不能够访问的, 所以需要将端口暴露出来.</p>
<ol>
<li>先将原先运行的 nginx 停止</li>
</ol>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker stop bf05c0c930ab <span class="token comment">#使用docker stop将容器停止, 后面的一串为容器id, 使用docker ps命令可以看到container id就是它.</span>
bf05c0c930ab<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ol start="2">
<li>将 nginx 的端口暴露, 并且映射端口 8080</li>
</ol>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker run -d -p <span class="token number">8080</span>:80 nginx:latest <span class="token comment"># 使用-p指定暴露的端口</span>

87daf4cb13ff070921f63ce6400b4a5ca8c1fd9efa4f90fde82d5ce68bf50e70<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<ol start="3">
<li>启动完后, 打开游览器访问<code>localhost:8080</code>将会看到 nginx 的页面.</li>
</ol>
<p><img src="/loading.gif" data-original="https://c242p8.coding-pages.com/images/docker/pics/pic3.png"></p>
<ol start="4">
<li>映射多个端口号</li>
</ol>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker run -d -p <span class="token number">8080</span>:80 -p <span class="token number">3000</span>:80 nginx:latest

5ef41fe3a3d7b826d311c8ad7973e9690cefae2765df827d8b07118490ba1890

<span class="token comment">#输入docker ps查看映射的端口</span>
docker <span class="token function">ps</span>
<span class="token comment">#按下回车后可以看到 port 映射了两个.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Container-的管理"><a href="#Container-的管理" class="headerlink" title="Container 的管理"></a>Container 的管理</h3><p>输入 docker ps 查看正在运行的 container.</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#可以看到最后有一个names的属性, 可以使用gifted_hawking将container停止掉.</span>
docker <span class="token function">ps</span>
CONTAINER ID   IMAGE          COMMAND                  CREATED         STATUS         PORTS                                        NAMES
5ef41fe3a3d7   nginx:latest   <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">5</span> minutes ago   Up <span class="token number">5</span> minutes   <span class="token number">0.0</span>.0.0:3000-<span class="token operator">></span><span class="token number">80</span>/tcp, <span class="token number">0.0</span>.0.0:8080-<span class="token operator">></span><span class="token number">80</span>/tcp   gifted_hawking

docker stop gifted_hawking
gifted_hawking <span class="token comment">#此时对应的容器已经被停止了</span>

<span class="token comment"># 我们也可以使用docker start gifted_hawking将其重新启动.</span>
docker start gifted_hawking

gifted_hawking

<span class="token comment"># 通过name启动的容器没有指定端口. 但实际上是带上端口的, 也就是我们每次docker start都会创建一个容器, 可以通过docker ps -a命令查看</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>使用 docker ps -a 命令查看所有的容器.</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker <span class="token function">ps</span> -a
CONTAINER ID   IMAGE          COMMAND                  CREATED          STATUS                      PORTS                                        NAMES
5ef41fe3a3d7   nginx:latest   <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">14</span> minutes ago   Up <span class="token number">5</span> minutes                <span class="token number">0.0</span>.0.0:3000-<span class="token operator">></span><span class="token number">80</span>/tcp, <span class="token number">0.0</span>.0.0:8080-<span class="token operator">></span><span class="token number">80</span>/tcp   gifted_hawking
87daf4cb13ff   nginx:latest   <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">20</span> minutes ago   Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">16</span> minutes ago                                                naughty_sutherland
bf05c0c930ab   nginx:latest   <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">29</span> minutes ago   Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">22</span> minutes ago                                                fervent_yalow
3a19643c7f12   nginx:latest   <span class="token string">"/docker-entrypoint.…"</span>   <span class="token number">40</span> minutes ago   Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">32</span> minutes ago                                                nice_vaughan<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>对创建出来的容器进行管理, 将指定容器删除.</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#删除容器可以使用id或者是name</span>
docker <span class="token function">rm</span> nice_vaughan
nice_vaughan
<span class="token comment">#回车后执行docker ps -a后可以看到对应的容器已经被删除.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>使用一行命令将所有container删除掉</code></p>
<ol>
<li>首先需要获取到所有 container 的 id</li>
</ol>
<p>使用 docker ps -a 可以获取到所有的容器. 如果需要获取所有的容器 id 只需要加一个 q 就行了</p>
<p>具体命令如下</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker <span class="token function">ps</span> -aq <span class="token comment">#获取所有的容器id</span>
5ef41fe3a3d7
87daf4cb13ff
bf05c0c930ab

<span class="token comment">#获取到了id后怎么将其全部删除呢?</span>
<span class="token comment"># 将获取到的内容像参数出传递一般传入到方法中即可.</span>

docker <span class="token function">rm</span> <span class="token variable"><span class="token variable">$(</span>docker <span class="token function">ps</span> -aq<span class="token variable">)</span></span>  <span class="token comment">#$(括号内为参数)</span>

5ef41fe3a3d7
87daf4cb13ff
bf05c0c930ab

<span class="token comment">#执行完上面的命令后, 再执行docker ps -a 后可以看到所有的container已经被清空了.</span>

<span class="token comment">#如果有container正在运行的话, 执行docker rm $(docker ps -aq)就会报错.</span>

<span class="token comment">#如果一定要移出的话只能使用强制移出. 命令如下:</span>
docker <span class="token function">rm</span> -f <span class="token variable"><span class="token variable">$(</span>docker <span class="token function">ps</span> -aq<span class="token variable">)</span></span> <span class="token comment">#加上-f就可以完成强制移出.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="Container-命名"><a href="#Container-命名" class="headerlink" title="Container 命名"></a>Container 命名</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker run --name website -d -p <span class="token number">8080</span>:80 -p <span class="token number">3000</span>:80 nginx:latest <span class="token comment"># 使用--name即可指定container的名字, 这里容器的名字为website.</span>

<span class="token comment"># 使用名字将container停止.</span>
docker stop website
website<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Docker-Volumes"><a href="#Docker-Volumes" class="headerlink" title="Docker Volumes"></a>Docker Volumes</h3><p><img src="/loading.gif" data-original="https://c242p8.coding-pages.com/images/docker/pics/pic4.png"></p>
<p>Docker Volumes 可以让我们将 Host 主机的数据和 Docker 容器进行共享同时呢也可以是容器和容器之间的数据共享.</p>
<p>打开 dockerHub 搜索 nginx 查看<a target="_blank" rel="noopener" href="https://hub.docker.com/_/nginx">文档</a>, 可以看到 volumes 对应的命令如下:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 这里的-v就是开启volume, /some/content表示source就是源, /usr/share/nginx/html就是目标位置, :ro表示是readOnly, 意思就是只读.</span>
$ docker run --name some-nginx -v /some/content:/usr/share/nginx/html:ro -d nginx<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ul>
<li><p>在桌面创建文件夹, website</p>
</li>
<li><p>文件夹内创建 index.html</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Hello Docker<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Hello Docker<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>运行命令</p>
<p><img src="/loading.gif" data-original="https://c242p8.coding-pages.com/images/docker/pics/pic5.png"></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 这里的pwd就是当前目录.</span>
docker run --name website -v <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>:/usr/share/nginx/html:ro -d -p <span class="token number">8080</span>:80 nginx<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li>
<li><p>访问地址: <a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080/</a>, 可以看到已经不是 Nginx 原来的 welcome 页面了,现在变成了 Hello Docker.</p>
<p><img src="/loading.gif" data-original="https://c242p8.coding-pages.com/images/docker/pics/pic6.png"></p>
</li>
</ul>
<h4 id="查看容器中的-index-html"><a href="#查看容器中的-index-html" class="headerlink" title="查看容器中的 index.html"></a>查看容器中的 index.html</h4><ol>
<li><p>使用 bash command 进入容器, 容器的结构是像 Linux 一样的.</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker <span class="token builtin class-name">exec</span> -it website <span class="token function">bash</span> <span class="token comment">#执行这一条命令, 进入容器</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/loading.gif" data-original="https://c242p8.coding-pages.com/images/docker/pics/pic7.png" alt="容器结构"></p>
</li>
<li><p>接下来我们进入 usr/share/nginx/html 就可以看到之前创建的 index.html 页面了.</p>
<p><img src="/loading.gif" data-original="https://c242p8.coding-pages.com/images/docker/pics/pic8.png" alt="容器结构"></p>
</li>
</ol>
<h4 id="创建一个新的页面-about-html"><a href="#创建一个新的页面-about-html" class="headerlink" title="创建一个新的页面 about.html"></a>创建一个新的页面 about.html</h4><p>在容器中新建一个页面, about.html</p>
<ol>
<li><p>定位到 usr/share/html 路径</p>
</li>
<li><p>执行命令</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">touch</span> about.html<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li>
<li><p>因为创建的是只读 volume, 所以说不能创建新的文件.</p>
</li>
<li><p><font size=5>解决方式</font></p>
<ol>
<li><p>先将原先的 docker container 移出.</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker <span class="token function">rm</span> -f website<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li>
<li><p>创建新的容器</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#原先执行的指令</span>
docker run --name website -v <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>:/usr/share/nginx/html:ro -d -p <span class="token number">8080</span>:80 nginx
<span class="token comment">#现在执行的指令, 讲html后面的:ro移出, 不指定当前volume为只读volume</span>
docker run --name website -v <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>:/usr/share/nginx/html -d -p <span class="token number">8080</span>:80 nginx<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>启动完成之后继续 bash 进 container, 然后在原来的目录继续创建 about.html</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker <span class="token builtin class-name">exec</span> -it website <span class="token function">bash</span>

<span class="token builtin class-name">cd</span> usr/share/nginx/html

<span class="token function">touch</span> about.html <span class="token comment">#创建about.html页面</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>创建完成之后, 我们查看桌面上的 website 文件夹.</p>
<p><img src="/loading.gif" data-original="https://c242p8.coding-pages.com/images/docker/pics/pic10.png" alt="桌面下的文件夹"></p>
<p>可以看到成功地创建了 about.html 页面</p>
</li>
</ol>
</li>
</ol>
<h3 id="Container-之间的-Volumes"><a href="#Container-之间的-Volumes" class="headerlink" title="Container 之间的 Volumes"></a>Container 之间的 Volumes</h3><p><img src="/loading.gif" data-original="https://c242p8.coding-pages.com/images/docker/pics/pic11.png" alt="VolumesBetweenContainers"></p>
<p>容器和容器之间共享数据其实非常简单, 一行命令即可解决</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 使用--volumes-from + 容器名称命令即可, 这样的话website2和website的数据就相同了</span>
docker run --name website2 --volumes-from website -d -p <span class="token number">8081</span>:80 nginx<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="/loading.gif" data-original="https://c242p8.coding-pages.com/images/docker/pics/pic12.png" alt="页面"></p>
<h3 id="Dockerfile"><a href="#Dockerfile" class="headerlink" title="Dockerfile"></a>Dockerfile</h3><ol>
<li><p><font size=5>什么是 Dockerfile</font></p>
<blockquote>
<p>Dockerfile 是给我们用来构建镜像的文本文件, 文本内容包含了一条条构建镜像所需的指令和说明</p>
</blockquote>
</li>
<li><p><font size=5>Dockerfile 的作用</font></p>
<ul>
<li>安装 dockerfile 中的指令定义 docker 容器或者容器中的应用程序以及服务</li>
<li>Dockerfile 制作一个镜像模板安装模板统一生成容器</li>
</ul>
</li>
<li><p><font size=5>Dockerfile 中常见的指令和作用</font></p>
<blockquote>
<p>FROM：指定创建镜像的基础镜像</p>
<p>MAINTAINER：Dockerfile 作者信息, 一般写的是联系方式</p>
<p>RUN：运行 Linux 系统的命令使用</p>
<p>CMD：指定容器启动执行的命令; 启动容器中的服务</p>
<p>LABEL：指定生成镜像的源数据标签</p>
<p>EXPOSE：指定镜像容器监听端口号; 发布服务使用</p>
<p>ENV：使用环境变量</p>
<p>ADD：对压缩文件进行解压缩; 将数据移动到指定的目录</p>
<p>COPY：复制宿主机数据到镜像内部使用</p>
<p>WORKDIR：切换到镜像容器中的指定目录中</p>
<p>VOLUME：挂载数据卷到镜像容器中</p>
<p>USER：指定运行容器的用户</p>
<p>ARG：指定镜像的版本号信息</p>
<p>ONBUILD：创建镜像, 作为其他镜像的基础镜像运行操作指令</p>
<p>ENTRYPOINT：指定运行容器启动过程执行命令, 覆盖 CMD 参数</p>
</blockquote>
</li>
</ol>
<h4 id="构建一个-Image"><a href="#构建一个-Image" class="headerlink" title="构建一个 Image"></a>构建一个 Image</h4><p>将原先的 website 文件夹, 构建成一个 image, 这样我们可以直接将 image 跑起来就能访问到里面的内容, 并且不需要像之前一样, 挂载一个 volume.</p>
<p><img src="/loading.gif" data-original="https://c242p8.coding-pages.com/images/docker/pics/pic13.png" alt="DockerImage"></p>
<p><font size=5>构建步骤</font></p>
<ol>
<li><p>在 website 目录下创建一个 Dockerfile</p>
<pre class="line-numbers language-dockerfile" data-language="dockerfile"><code class="language-dockerfile">FROM nginx:latest #基于nginx构建image
ADD . &#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html #.为当前目录(也就是source), &#x2F;usr&#x2F;share**依然为目标目录.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li>
<li><p>使用 docker build 命令构建 image</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># -t指定tag, 格式为name:tag(名称:版本), 最后的.为指定Dockerfile的路径, 要确保当前在website目录下.</span>
docker build -t website:latest <span class="token builtin class-name">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li>
<li><p>命令执行完后执行<code>docker image ls</code>就能够看到有一个新的 image 叫 website 了</p>
<p><img src="/loading.gif" data-original="https://c242p8.coding-pages.com/images/docker/pics/pic14.png" alt="页面"></p>
</li>
<li><p>将 website 这个镜像运行起来</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker run --name website -d -p <span class="token number">8080</span>:80 website:latest<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li>
<li><p>进行测试, 访问地址: <a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080/</a>, 可以看到: Hello Docker and volumes.</p>
</li>
</ol>
<blockquote>
<p>.dockerignore 文件</p>
<p>类似于.gitignore, 在 gitignore 文件中的数据都不提交到 git, 在 dockerignore 文件中的数据在 docker build 的时候会被忽略.</p>
</blockquote>
<h3 id="DockerRepository-Docker-仓库"><a href="#DockerRepository-Docker-仓库" class="headerlink" title="DockerRepository(Docker 仓库)"></a>DockerRepository(Docker 仓库)</h3><blockquote>
<p>Docker 仓库就像 git 仓库一样, 对文件进行版本管理控制.</p>
<p>地址: <a target="_blank" rel="noopener" href="https://hub.docker.com/repository/create">https://hub.docker.com/repository/create</a></p>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Nathan</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://nathan98.gitee.io/post/d84ab946.html">https://nathan98.gitee.io/post/d84ab946.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://nathan98.gitee.io" target="_blank">Nathan's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Docker/">Docker</a><a class="post-meta__tags" href="/tags/Mac/">Mac</a></div><div class="post_share"><div class="social-share" data-image="https://c242p8.coding-pages.com/images/docker/thumbnail.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/post/eff476c1.html"><img class="prev-cover" src="/loading.gif" data-original="https://c242p8.coding-pages.com/images/spring/thumbnail.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">SpringCloud-Eureka整合</div></div></a></div><div class="next-post pull-right"><a href="/post/1380e7fc.html"><img class="next-cover" src="/loading.gif" data-original="https://c242p8.coding-pages.com/images/jwt/thumbnail.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">SpringBoot整合JWT+Security</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="/loading.gif" data-original="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Nathan</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">39</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">30</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/SuperOnee" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="/nathanneil66@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Docker-%E5%AE%89%E8%A3%85"><span class="toc-number">1.</span> <span class="toc-text">Docker 安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Docker-Image-%E5%92%8C-Docker-Container"><span class="toc-number">2.</span> <span class="toc-text">Docker Image 和 Docker Container</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%86%E7%AB%AF%E5%8F%A3%E6%9A%B4%E9%9C%B2"><span class="toc-number">3.</span> <span class="toc-text">将端口暴露</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Container-%E7%9A%84%E7%AE%A1%E7%90%86"><span class="toc-number">4.</span> <span class="toc-text">Container 的管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Container-%E5%91%BD%E5%90%8D"><span class="toc-number">4.1.</span> <span class="toc-text">Container 命名</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Docker-Volumes"><span class="toc-number">5.</span> <span class="toc-text">Docker Volumes</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%AE%B9%E5%99%A8%E4%B8%AD%E7%9A%84-index-html"><span class="toc-number">5.1.</span> <span class="toc-text">查看容器中的 index.html</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84%E9%A1%B5%E9%9D%A2-about-html"><span class="toc-number">5.2.</span> <span class="toc-text">创建一个新的页面 about.html</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Container-%E4%B9%8B%E9%97%B4%E7%9A%84-Volumes"><span class="toc-number">6.</span> <span class="toc-text">Container 之间的 Volumes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Dockerfile"><span class="toc-number">7.</span> <span class="toc-text">Dockerfile</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AA-Image"><span class="toc-number">7.1.</span> <span class="toc-text">构建一个 Image</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DockerRepository-Docker-%E4%BB%93%E5%BA%93"><span class="toc-number">8.</span> <span class="toc-text">DockerRepository(Docker 仓库)</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/post/18137b31.html" title="Java8新特性Stream流api实用的一些封装"><img src="/loading.gif" data-original="https://c242p8.coding-pages.com/images/java/javalogo.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java8新特性Stream流api实用的一些封装"/></a><div class="content"><a class="title" href="/post/18137b31.html" title="Java8新特性Stream流api实用的一些封装">Java8新特性Stream流api实用的一些封装</a><time datetime="2021-03-28T09:52:17.000Z" title="发表于 2021-03-28 17:52:17">2021-03-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/d2ec29ac.html" title="vue+element ui动态表单校验"><img src="/loading.gif" data-original="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="vue+element ui动态表单校验"/></a><div class="content"><a class="title" href="/post/d2ec29ac.html" title="vue+element ui动态表单校验">vue+element ui动态表单校验</a><time datetime="2021-02-26T09:37:57.000Z" title="发表于 2021-02-26 17:37:57">2021-02-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/dbe9df0a.html" title="SpringCloud-Gateway整合"><img src="/loading.gif" data-original="https://c242p8.coding-pages.com/images/spring/thumbnail.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="SpringCloud-Gateway整合"/></a><div class="content"><a class="title" href="/post/dbe9df0a.html" title="SpringCloud-Gateway整合">SpringCloud-Gateway整合</a><time datetime="2021-02-07T01:54:54.000Z" title="发表于 2021-02-07 09:54:54">2021-02-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/d0cc1785.html" title="SpringCloud-CircuitBreaker-resilience4j整合"><img src="/loading.gif" data-original="https://c242p8.coding-pages.com/images/spring/thumbnail.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="SpringCloud-CircuitBreaker-resilience4j整合"/></a><div class="content"><a class="title" href="/post/d0cc1785.html" title="SpringCloud-CircuitBreaker-resilience4j整合">SpringCloud-CircuitBreaker-resilience4j整合</a><time datetime="2021-02-06T09:25:11.000Z" title="发表于 2021-02-06 17:25:11">2021-02-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/28df3b26.html" title="SpringCloud-Hystrix整合"><img src="/loading.gif" data-original="https://c242p8.coding-pages.com/images/spring/thumbnail.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="SpringCloud-Hystrix整合"/></a><div class="content"><a class="title" href="/post/28df3b26.html" title="SpringCloud-Hystrix整合">SpringCloud-Hystrix整合</a><time datetime="2021-02-06T06:59:20.000Z" title="发表于 2021-02-06 14:59:20">2021-02-06</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By Nathan</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>if (document.getElementsByClassName('mermaid').length) {
  if (window.mermaidJsLoad) mermaid.init()
  else {
    getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(() => {
      window.mermaidJsLoad = true
      mermaid.initialize({
        theme: 'default',
      })
      false && mermaid.init()
    })
  }
}</script></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(n){n.imageLazyLoadSetting.processImages=i;var e=n.imageLazyLoadSetting.isSPA,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function i(){e&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,a=0;a<r.length;a++)0<=(t=(t=r[a]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight||document.documentElement.clientHeight)&&function(){var t,e,n,i,o=r[a];t=o,e=function(){r=r.filter(function(t){return o!==t})},n=new Image,i=t.getAttribute("data-original"),n.onload=function(){t.src=i,e&&e()},n.src=i}()}i(),n.addEventListener("scroll",function(){var t,e;t=i,e=n,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this);</script></body></html>